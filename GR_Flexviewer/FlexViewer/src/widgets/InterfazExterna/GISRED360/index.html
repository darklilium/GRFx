<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
    Remove this if you use the .htaccess -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>index</title>
    <meta name="description" content="">
    <meta name="author" content="ehernanr">

    <meta name="viewport" content="width=device-width; initial-scale=1.0">

    <!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    
    <!-- Latest compiled JavaScript -->
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    
     <!-- CUSTOMS: BY EVE -->
     <link rel="stylesheet" href="css/index.css">
      <script src="js/ajax.js"></script>
      
       <!-- GOOGLE API--> 
     <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true"></script>  
     <script>
     var numFotoSelected ="";
     var nomSSEESelected = "";

    function initialize() {
      
     //numFotoSelected = getURLParameter('numeroFoto');
     nomSSEESelected = getURLParameter('nombreSSEE');
     buscarPlano(nomSSEESelected);
         
     var panoOptions = {
        pano: 'reception',
        visible: true,
        panoProvider: getCustomPanorama   
      };
    
      var panorama = new google.maps.StreetViewPanorama(document.getElementById('map-canvas'), panoOptions);
      
    }

    function getURLParameter(name) {
                return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search) || [,""])[1].replace(/\+/g, '%20')) || null;
            }
        
  function getCustomPanorama(pano, zoom, tileX, tileY) {
    
    if (pano == 'reception') {
        return {
          location: {
            pano: 'reception',
            description: 'GISRED 360'
          },
          links: [],
          copyright: 'Imagery (c) 2015 Google',
         
          tiles: {
            tileSize: new google.maps.Size(980, 560),
            worldSize: new google.maps.Size(980, 560),
            centerHeading: 105,
            getTileUrl: getCustomPanoramaTileUrl
          }
        };
    }
    }
    
    function getCustomPanoramaTileUrl(pano, zoom, tileX, tileY) {
  //   alert(numFotoSelected); //1
    // alert(nomSSEESelected); //PLACILLA
      var directorioPrincipal = new String("imagenes/SSEE/");
      var slash = "/";
     
      var panoNom = new String(nomSSEESelected);
      var idFoto = new String(numFotoSelected);
      
      var extension = new String(".jpg"); 
      var ubicacionFoto = directorioPrincipal.concat(panoNom).concat(slash).concat(panoNom).concat("_").concat(idFoto).concat(extension);
    // alert(ubicacionFoto);
      
     //return  "imagenes/SSEE/CURAUMA/panoReception1024-0.jpg";
     return ubicacionFoto;
    
    }

  //  google.maps.event.addDomListener(window, 'load', initialize);
     
     function buscarPlano(nombreSubestacion){
       alert(nombreSubestacion);
     }
     
     </script>
    
  </head>

  <body onload="initialize();">
    
    <div class="container-fluid" id="contenedorPrincipal">
      <div class="container" id="contenedorHeader">
          <div class="page-header">
              <header>
                <h1>GISRED 360°</h1>
              </header>
          </div>
      </div>
      
     
          <div class="container" id="contenedorPaneles">
              <div class="row">
             
                <!-- panel izquierdo -->
                  <div class="col-sm-8">
                    <p class="lead text-center" >Panorámica  <span class="glyphicon glyphicon-camera"></span></p>
                    <div class="panel panel-default">  
                       <div class="panel-body" id="map-canvas">
                         <img class="img-responsive" src="imagenes/PLACILLA_1.jpg" alt="Chania" width="1024" height="900">
                         </div>
                    </div>
                  </div>
            
                   <!-- panel derecho -->  
                  <div class="col-sm-4"> 
                      <p class="lead text-center">Plano <span class="glyphicon glyphicon-picture"></span></p>
                      <div class="panel panel-default">
                         <div class="panel-body"><img class="img-responsive" src="imagenes/PLACILLA_1.jpg" alt="Chania" width="980" height="600"></div>
                      </div>
                    
                        <div class="panel panel-default" id="panelLista">
                           <h4 class="text-center">Lista de Fotos</h4>
                              <div class="list-group text-center">
                                <a href="" class="list-group-item">Primera Foto</a>
                                <a href="" class="list-group-item">Segunda Foto</a>
                                <a href="" class="list-group-item">Tercera Foto</a>
                              </div>
                         </div>
                  </div>
                  
              </div>   <!-- div row -->  
            </div> <!-- contenedor paneles cierre -->  
        
    </div>   <!-- contenedor principal -->     
      <div class="container" id="contenedorFooter">
        <p>GISRED 360,  2015 &copy; Copyright by Evelyn Hernández</p>
      </div>
   
  
</body>
</html>
